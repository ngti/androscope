class BuildTemplateTask extends Exec {

    @Input
    String templatePath
    @Input
    String outputPath

    @Override
    protected void exec() {
        println "Building Angular template: '$templatePath' -> '$outputPath'"

        workingDir(templatePath)
        commandLine("ng", "build",
                "--output-path", "$outputPath",
                "--prod",
                "--output-hashing", "none",
                "--aot",
                "--optimization"
        )

        super.exec()
    }
}

task buildTemplate(type: BuildTemplateTask) {
    templatePath = "$rootDir/template"
    outputPath = "$projectDir/src/main/assets/www-androscope/"
}
